

<!DOCTYPE html>
<html lang="zh-Hans" color-mode=light>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>å¾®åšçˆ¬è™«-å‘å¸ƒå¾®åšä»¥åŠè·å–å¾®åšèµ„æ–™ - So1n blog</title>
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="google" content="notranslate" />
  
  <meta name="description" content="ç®€å•çš„çˆ¬ä¸€ä¸‹å¾®åšä»¥åŠå‘å¾®åš

å¾®åšçˆ¬è™«-å‘å¸ƒå¾®åšä»¥åŠè·...">
  <meta name="author" content="So1n">
  <link rel="icon" href="/images/icons/favicon.ico" type="image/png" sizes="16x16">
  <link rel="icon" href="/images/icons/favicon.ico" type="image/png" sizes="32x32">
  <link rel="apple-touch-icon" href="/images/icons/favicon.ico" sizes="180x180">
  <meta rel="mask-icon" href="/images/icons/stun-logo.svg" color="#333333">
  
    <meta rel="msapplication-TileImage" content="/images/icons/favicon.ico">
    <meta rel="msapplication-TileColor" content="#000000">
  

  
<link rel="stylesheet" href="/css/style.css">


  
    
<link rel="stylesheet" href="//at.alicdn.com/t/font_1445822_s6x2xcokxrl.css">

  

  
    
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.css">

  

  
    
      
        
        
<link rel="stylesheet" href="https://cdn.bootcss.com/highlight.js/9.18.1/styles/atom-one-dark-reasonable.min.css" name="highlight-style" mode="light">

      
        
        
<link rel="stylesheet" href="https://cdn.bootcss.com/highlight.js/9.18.1/styles/atom-one-dark-reasonable.min.css" name="highlight-style" mode="dark">

      
  

  <script>
    var CONFIG = window.CONFIG || {};
    var ZHAOO = window.ZHAOO || {};
    CONFIG = {
      isHome: false,
      fancybox: true,
      pjax: false,
      lazyload: {
        enable: true,
        only_post: 'true',
        loading: '/images/theme/puff.svg'
      },
      donate: {
        enable: true,
        alipay: 'https://github.com/so1n/so1n_blog_photo/blob/master/blog_photo/4d2ebf32586d8799ee2e75333d6f5d2.jpg?raw=true',
        wechat: ''
      },
      galleries: {
        enable: true
      },
      fab: {
        enable: true,
        always_show: true
      },
      carrier: {
        enable: false
      },
      daovoice: {
        enable: false
      },
      preview: {
        background: {
          default: '',
          api: ''
        },
        motto: {
          default: 'I`m   So1n',
          typing: true,
          api: '',
          data_contents: '["data","content"]'
        },
      },
      qrcode: {
        enable: true,
        type: 'url',
        image: 'https://pic.izhaoo.com/weapp-code.jpg',
      },
      toc: {
        enable: true
      },
      scrollbar: {
        type: 'simple'
      },
      notification: {
        enable: false,
        delay: 4500,
        list: '',
        page_white_list: '',
        page_black_list: ''
      },
      search: {
        enable: true,
        path: 'search.xml'
      }
    }
  </script>

  

  

<meta name="generator" content="Hexo 5.4.0"></head>

<body class="lock-screen">
  <div class="loading"></div>
  
    


  <nav class="navbar">
    <div class="left">
      
        <i class="iconfont iconhome j-navbar-back-home"></i>
      
      
        <i class="iconfont iconqrcode j-navbar-qrcode"></i>
      
      
        <i class="iconfont iconmoono" id="color-toggle" color-toggle="light"></i>
      
      
        <i class="iconfont iconsearch j-navbar-search"></i>
      
    </div>
    <div class="center">å¾®åšçˆ¬è™«-å‘å¸ƒå¾®åšä»¥åŠè·å–å¾®åšèµ„æ–™</div>
    <div class="right">
      <i class="iconfont iconmenu j-navbar-menu"></i>
    </div>
    
      <div id="qrcode-navbar"></div>
    
  </nav>

  
  

<nav class="menu">
  <div class="menu-container">
    <div class="menu-close">
      <i class="iconfont iconbaseline-close-px"></i>
    </div>
    <ul class="menu-content"><li class="menu-item">
        <a href="/ " class="underline "> é¦–é¡µ</a>
      </li><li class="menu-item">
        <a target="_blank" rel="noopener" href="http://so1nz.lofter.com/ " class="underline "> æ—¶å…‰</a>
      </li><li class="menu-item">
        <a href="/archives/ " class="underline "> å½’æ¡£</a>
      </li><li class="menu-item">
        <a href="/tags/ " class="underline "> æ ‡ç­¾</a>
      </li><li class="menu-item">
        <a href="/categories/ " class="underline "> åˆ†ç±»</a>
      </li><li class="menu-item">
        <a href="/project/ " class="underline "> é¡¹ç›®</a>
      </li><li class="menu-item">
        <a href="/about/ " class="underline "> å…³äº</a>
      </li></ul>
    
      <div class="menu-copyright"><p>Powered by <a target="_blank" href="https://hexo.io">Hexo</a>  |  Theme - <a target="_blank" href="https://github.com/izhaoo/hexo-theme-zhaoo">zhaoo</a></p></div>
    
  </div>
</nav>
  <main id="main">
  <div class="article-wrap">
    <div class="row container">
      <div class="col-xl-3"></div>
      <div class="col-xl-6"><article class="article">
  <div class="wrap">
    <section class="head">
  <img src="/images/theme/post-image.jpg" draggable="false">
  <div class="head-mask">
    <h1 class="head-title">å¾®åšçˆ¬è™«-å‘å¸ƒå¾®åšä»¥åŠè·å–å¾®åšèµ„æ–™</h1>
    <div class="head-info">
      <span class="post-info-item"><i class="iconfont iconcalendar"></i>August 12, 2017</span>
      
      æœ¬æ–‡æ€»é˜…è¯»é‡<span id="busuanzi_value_page_pv"></span>æ¬¡
      <span class="post-info-item"><i class="iconfont iconfont-size"></i>9629</span>
    </div>
  </div>
</section>

    <section class="main">
      <section class="content">
        <!-- å±•ç¤ºæ–‡ç« æ‘˜å½• -->
        <p>ç®€å•çš„çˆ¬ä¸€ä¸‹å¾®åšä»¥åŠå‘å¾®åš</p>
        <h2 id="å¾®åšçˆ¬è™«-å‘å¸ƒå¾®åšä»¥åŠè·å–å¾®åšèµ„æ–™"><a href="#å¾®åšçˆ¬è™«-å‘å¸ƒå¾®åšä»¥åŠè·å–å¾®åšèµ„æ–™" class="headerlink" title="å¾®åšçˆ¬è™«-å‘å¸ƒå¾®åšä»¥åŠè·å–å¾®åšèµ„æ–™"></a>å¾®åšçˆ¬è™«-å‘å¸ƒå¾®åšä»¥åŠè·å–å¾®åšèµ„æ–™</h2><h3 id="1-å‘å¸ƒå¾®åš"><a href="#1-å‘å¸ƒå¾®åš" class="headerlink" title="1.å‘å¸ƒå¾®åš"></a>1.å‘å¸ƒå¾®åš</h3><p>é¦–å…ˆè¦è§£å†³ç™»å½•é—®é¢˜ï¼ˆä¸ºäº†å‡å°‘é™åˆ¶æˆ‘ä»¬ä½¿ç”¨ç§»åŠ¨ç‰ˆæœ¬ç™»å½•ï¼‰ï¼Œè¿™é‡Œæˆ‘é‡‡ç”¨cookieæ¥ç™»å½•<br><img  src="https://github.com/so1n/so1n_blog_photo/blob/master/blog_photo/%E7%99%BB%E5%BD%95.png?raw=true"  ><span class="image-caption">enter description here</span><br><img  src="https://github.com/so1n/so1n_blog_photo/blob/master/blog_photo/cookie.png?raw=true"  ><span class="image-caption">enter description here</span><br>å¦‚å›¾ï¼Œç™»å½•åè·å¾—cookie ï¼Œ<br>å…ˆå‘å¸ƒä¸€ä¸ªå¾®åšæŸ¥çœ‹éœ€è¦ä¼ è¾“ä»€ä¹ˆå€¼<br><img  src="https://github.com/so1n/so1n_blog_photo/blob/master/blog_photo/%E6%9F%A5%E7%9C%8B%E5%8F%91%E9%80%81%E5%BE%AE%E5%8D%9A%E9%9C%80%E8%A6%81%E5%A1%AB%E5%86%99%E4%BB%80%E4%B9%88.png?raw=true"  ><span class="image-caption">enter description here</span><br>å›¾ä¸­å¯ä»¥çœ‹å‡ºï¼Œæˆ‘ä»¬éœ€è¦2ä¸ªå€¼ï¼Œä¸€ä¸ªä¸ºstä¸€ä¸ªä¸ºcontentï¼Œä¸”contentå·²çŸ¥å€¼ä¸ºæˆ‘ä»¬è¦å‘é€çš„å¾®åš<br>å‘é€å¾®åšçš„urlåœ¨å›¾ç‰‡é‡Œé¢å¯ä»¥çœ‹å‡ºæ˜¯ï¼š<a target="_blank" rel="noopener" href="https://m.weibo.cn/api/statuses/update">https://m.weibo.cn/api/statuses/update</a><br><img  src="https://github.com/so1n/so1n_blog_photo/blob/master/blog_photo/%E6%89%BE%E5%87%BAst%E7%9A%84%E5%80%BC.png?raw=true"  ><span class="image-caption">enter description here</span><br>æ¥ç€æˆ‘ä»¬ä»è¿™ä¸ªç½‘é¡µé‡Œé¢æ‰¾åˆ°stå€¼ç”Ÿæˆçš„åœ°æ–¹ï¼Œæ‰¾åˆ°åæˆ‘ä»¬å°±å¯ä»¥å¼€å§‹å†™å‘é€å¾®åšçš„ä»£ç äº†</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> re<br><span class="hljs-keyword">import</span> requests<br><br><br>headers = &#123;<span class="hljs-string">&#x27;User-Agent&#x27;</span>: <span class="hljs-string">&#x27;Mozilla/5.0 (Linux; Android 6.0; Nexus 5 Build/MRA58N) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/58.0.3029.110 Mobile Safari/537.36&#x27;</span>&#125;<br>cookie = &#123;<span class="hljs-string">&quot;Cookie&quot;</span>: <span class="hljs-string">&quot;ä½ çš„cookie&quot;</span>&#125;<br>url = <span class="hljs-string">&#x27;https://m.weibo.cn/compose&#x27;</span><br>html = requests.get(url, cookies=cookie).text<br>pattern = <span class="hljs-string">r&#x27;st:(.+)&#x27;</span><br>st = re.findall(pattern, html)[<span class="hljs-number">0</span>].replace(<span class="hljs-string">&quot;&#x27;&quot;</span>,<span class="hljs-string">&#x27;&#x27;</span>).replace(<span class="hljs-string">&#x27;,&#x27;</span>,<span class="hljs-string">&#x27;&#x27;</span>).replace(<span class="hljs-string">&#x27; &#x27;</span>,<span class="hljs-string">&#x27;&#x27;</span>)<br>post_url = <span class="hljs-string">&#x27;https://m.weibo.cn/api/statuses/update&#x27;</span><br>postdata = &#123;<br>            <span class="hljs-string">&#x27;st&#x27;</span>:st,<br>            <span class="hljs-string">&#x27;content&#x27;</span>:<span class="hljs-string">&#x27;æµ‹è¯•Pythonå‘å¾®åš!&#x27;</span>,<br>            &#125;<br>update = requests.post(post_url, data=postdata, headers=headers, cookies=cookie)<br></code></pre></td></tr></table></figure>
<p>åœ¨è¿™é‡Œæˆ‘ç”¨æ­£åˆ™æ‰¾å‡ºæ¥ï¼Œä¸è¿‡åŠ äº†â€˜â€™å°±æ‰¾ä¸åˆ°äº†ï¼Œæ‰€ä»¥åªèƒ½ç²—ç•¥æ‰¾å‡ºæ¥å†æŠŠä¸è¦çš„æ›¿æ¢æ‰ï¼Œæ¥ç€å°±å¯ä»¥ä¼ å…¥postdataè¿›è¡Œå‘å¾®åšäº†<br>ç»“æœå¦‚å›¾ï¼š<br><img  src="https://github.com/so1n/so1n_blog_photo/blob/master/blog_photo/%E6%B7%B1%E5%BA%A6%E6%88%AA%E5%9B%BE_%E9%80%89%E6%8B%A9%E5%8C%BA%E5%9F%9F_20170815141038.png?raw=true"  ><span class="image-caption">enter description here</span></p>
<h3 id="2-çˆ¬å–è¯„è®º"><a href="#2-çˆ¬å–è¯„è®º" class="headerlink" title="2.çˆ¬å–è¯„è®º"></a>2.çˆ¬å–è¯„è®º</h3><p>å…¶å®è¿™ä¸ªæ˜¯æˆ‘çˆ¬å–ä¸€åŠé‡åˆ°ä¸ªå‘ï¼Œç„¶åç™¾åº¦åæ‰¾åˆ°çš„æ•™ç¨‹- -ã€‚ã€‚ã€‚<br>å…ˆè´´ä¸Šé“¾æ¥<a target="_blank" rel="noopener" href="http://www.jianshu.com/p/cc72f42ee0cb">è¿™é‡Œ</a><br>ç„¶åæ˜¯ä»£ç </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> lxml <span class="hljs-keyword">import</span> html<br><span class="hljs-keyword">import</span> requests<br><span class="hljs-keyword">import</span> json<br><span class="hljs-keyword">import</span> re<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">CrawlWeibo</span>:</span><br><br>    <span class="hljs-comment"># è·å–æŒ‡å®šåšä¸»çš„æ‰€æœ‰å¾®åšcardçš„list</span><br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">getWeibo</span>(<span class="hljs-params">self,<span class="hljs-built_in">id</span>,page</span>):</span><span class="hljs-comment">#idï¼ˆå­—ç¬¦ä¸²ç±»å‹ï¼‰ï¼šåšä¸»çš„ç”¨æˆ·idï¼Œpageï¼ˆæ•´å‹ï¼‰ï¼šå¾®åšç¿»é¡µå‚æ•°</span><br><br>        url=<span class="hljs-string">&#x27;https://m.weibo.cn/api/container/getIndex?type=uid&amp;value=&#x27;</span>+<span class="hljs-built_in">id</span>+<span class="hljs-string">&#x27;&amp;containerid=107603&#x27;</span>+<span class="hljs-built_in">id</span>+<span class="hljs-string">&#x27;&amp;page=&#x27;</span>+<span class="hljs-built_in">str</span>(page)<br>        response=requests.get(url)<br>        ob_json=json.loads(response.text)<br><br>        list_cards=ob_json[<span class="hljs-string">&#x27;cards&#x27;</span>]<br>        <span class="hljs-keyword">return</span> list_cards<span class="hljs-comment"># è¿”å›æœ¬é¡µæ‰€æœ‰çš„cards</span><br><br>    <span class="hljs-comment"># è¿”å›æŸæ¡å¾®åšçš„çƒ­é—¨è¯„è®ºçš„list</span><br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">getComments</span>(<span class="hljs-params">self,<span class="hljs-built_in">id</span>,page</span>):</span><span class="hljs-comment"># idï¼ˆå­—ç¬¦ä¸²ç±»å‹ï¼‰ï¼šæŸæ¡å¾®åšçš„idï¼Œpageï¼ˆæ•´å‹ï¼‰ï¼šè¯„è®ºç¿»é¡µå‚æ•°</span><br>        url=<span class="hljs-string">&#x27;https://m.weibo.cn/api/comments/show?id=&#x27;</span>+<span class="hljs-built_in">id</span>+<span class="hljs-string">&#x27;&amp;page=&#x27;</span>+<span class="hljs-built_in">str</span>(page)<br>        response=requests.get(url)<br>        ob_json=json.loads(response.text)<br><br>        list_comments=ob_json[<span class="hljs-string">&#x27;hot_data&#x27;</span>]<br>        <span class="hljs-keyword">return</span> list_comments<br><br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">printAllTopic</span>(<span class="hljs-params">self,page</span>):</span><br>        list_cards=self.getWeibo(<span class="hljs-string">&#x27;1713926427&#x27;</span>,page)<br>        <span class="hljs-comment"># éå†å½“é¡µæ‰€æœ‰å¾®åšï¼Œè¾“å‡ºå†…å®¹ï¼Œå¹¶æ ¹æ®idæŸ¥æ‰¾è¾“å‡ºçƒ­é—¨è¯„è®º</span><br>        <span class="hljs-keyword">for</span> card <span class="hljs-keyword">in</span> list_cards:<br>            <span class="hljs-keyword">if</span> card[<span class="hljs-string">&#x27;card_type&#x27;</span>]==<span class="hljs-number">9</span>:<span class="hljs-comment"># è¿‡æ»¤å‡ºå¾®åšï¼Œcard_type=9çš„æ˜¯å¾®åšcardï¼Œcard_type=11çš„æ˜¯æ¨èæœ‰è¶£çš„äºº</span><br>                <span class="hljs-built_in">id</span>=card[<span class="hljs-string">&#x27;mblog&#x27;</span>][<span class="hljs-string">&#x27;id&#x27;</span>]<br>                text=card[<span class="hljs-string">&#x27;mblog&#x27;</span>][<span class="hljs-string">&#x27;text&#x27;</span>]<br>                <span class="hljs-keyword">if</span> re.search(<span class="hljs-string">&#x27;___&#x27;</span>, text)!=<span class="hljs-literal">None</span>:<span class="hljs-comment"># ç”¨æ­£åˆ™åŒ¹é…ï¼Œå°†åšæ–‡æœ‰ä¸‹åˆ’çº¿çš„å¾®åšè¿‡æ»¤å‡ºæ¥ï¼Œæœ‰ä¸‹åˆ’çº¿çš„æ˜¯â€œè¯é¢˜å¾®åšâ€</span><br>                     <span class="hljs-built_in">print</span> (<span class="hljs-string">u&quot;### è¯é¢˜: &quot;</span>+text+<span class="hljs-string">&#x27;\n&#x27;</span>)<br><br>                     <span class="hljs-comment">#æ ¹æ®å¾®åšidè·å–çƒ­é—¨è¯„è®ºï¼Œå¹¶è¾“å‡º</span><br>                     list_comments=crawl_weibo.getComments(<span class="hljs-built_in">id</span>, <span class="hljs-number">1</span>)<span class="hljs-comment"># çƒ­é—¨è¯„è®ºåªéœ€è¦è®¿é—®ç¬¬ä¸€é¡µ</span><br>                     count_hotcomments=<span class="hljs-number">1</span><br>                     <span class="hljs-keyword">for</span> comment <span class="hljs-keyword">in</span> list_comments:<br>                         created_at=comment[<span class="hljs-string">&#x27;created_at&#x27;</span>]<span class="hljs-comment"># å‘è¡¨æ—¥æœŸæ—¶é—´</span><br>                         like_counts=comment[<span class="hljs-string">&#x27;like_counts&#x27;</span>]<span class="hljs-comment"># ç‚¹èµæ•°</span><br><br>                         text=comment[<span class="hljs-string">&#x27;text&#x27;</span>]<span class="hljs-comment"># è¯„è®ºå†…å®¹</span><br>                         tree=html.fromstring(text)<br>                         text=tree.xpath(<span class="hljs-string">&#x27;string(.)&#x27;</span>)<span class="hljs-comment"># ç”¨stringå‡½æ•°è¿‡æ»¤æ‰å¤šä½™æ ‡ç­¾</span><br><br>                         name_user=comment[<span class="hljs-string">&#x27;user&#x27;</span>][<span class="hljs-string">&#x27;screen_name&#x27;</span>]<span class="hljs-comment"># è¯„è®ºè€…çš„ç”¨æˆ·å</span><br><br>                         source=comment[<span class="hljs-string">&#x27;source&#x27;</span>]<span class="hljs-comment"># æ¥æºäºå“ªä¸ªç»ˆç«¯</span><br>                         <span class="hljs-keyword">if</span> source==<span class="hljs-string">&#x27;&#x27;</span>:<br>                             source=<span class="hljs-string">u&#x27;æœªçŸ¥&#x27;</span><br><br>                         pic_url=<span class="hljs-string">&#x27;&#x27;</span><span class="hljs-comment"># è¯„è®ºå†…å®¹çš„å›¾ç‰‡</span><br>                         <span class="hljs-keyword">if</span> <span class="hljs-string">&#x27;pic&#x27;</span> <span class="hljs-keyword">in</span> comment:<br>                             pic_url=comment[<span class="hljs-string">&#x27;pic&#x27;</span>][<span class="hljs-string">&#x27;url&#x27;</span>]<br><br>                        <span class="hljs-comment"># è¾“å‡ºè¯„è®ºæ•°æ®</span><br>                         <span class="hljs-built_in">print</span> (<span class="hljs-built_in">str</span>(count_hotcomments),<span class="hljs-string">&#x27;: **&#x27;</span>,name_user,<span class="hljs-string">&#x27;**&#x27;</span>,<span class="hljs-string">u&#x27;  **å‘è¡¨äºï¼š**&#x27;</span>+created_at,<span class="hljs-string">u&#x27;  **ç‚¹èµï¼š**&#x27;</span>+<span class="hljs-built_in">str</span>(like_counts)+<span class="hljs-string">u&#x27;  **æ¥è‡ªï¼š**&#x27;</span>+source)<br>                         <span class="hljs-built_in">print</span> (text+<span class="hljs-string">&#x27;\n&#x27;</span>)<br>                         count_hotcomments=count_hotcomments+<span class="hljs-number">1</span><br>                     <span class="hljs-built_in">print</span> (<span class="hljs-string">&#x27;***&#x27;</span>)<br><br><span class="hljs-comment">#å®ä¾‹åŒ–çˆ¬è™«ç±»å¹¶è°ƒç”¨æˆå‘˜æ–¹æ³•è¿›è¡Œè¾“å‡º                     </span><br>crawl_weibo=CrawlWeibo()<br>crawl_weibo.printAllTopic(<span class="hljs-number">1</span>)<span class="hljs-comment"># åªè¾“å‡ºä¸€é¡µè¿›è¡Œç¤ºä¾‹å±•ç¤º</span><br></code></pre></td></tr></table></figure>
<p>å…¶å®å°±æ˜¯ä¸æ–­çš„è§£æJSONæ¥è·å–è‡ªå·±æƒ³è¦çš„<br>ï¼Œæœç´¢åˆ°æ¦œå§åï¼Œç‚¹ä»–çš„å¾®åš<br><img  src="https://github.com/so1n/so1n_blog_photo/blob/master/blog_photo/%E8%8E%B7%E5%8F%96%E6%A6%9C%E5%A7%90%E9%A6%96%E9%A1%B5JSON.png?raw=true"  ><span class="image-caption">enter description here</span><br>å¯ä»¥æ‰¾åˆ°ç”Ÿæˆå¾®åšçš„JSONæ–‡ä»¶<br>æŠŠURLæå–åè¿›å»æŸ¥çœ‹ï¼Œå¯ä»¥çœ‹åˆ°JSONå†…å®¹ï¼Œç„¶åCOPYå†åˆ°<a target="_blank" rel="noopener" href="http://json.cn/">json.cn</a>æŸ¥çœ‹<br><img  src="https://github.com/so1n/so1n_blog_photo/blob/master/blog_photo/%E9%A6%96%E9%A1%B5JSON%E8%A7%A3%E9%87%8A.png?raw=true"  ><span class="image-caption">enter description here</span><br>ä¹‹åå°±ä¼šå‘ç°æˆ‘ä»¬è¦çš„å¾®åšéƒ½å†card 9é‡Œé¢ï¼Œæå–ä¹‹<br>å†ç‚¹è¿›å»è¯„è®ºåˆ—è¡¨ï¼Œè·Ÿåˆ†æåšæ–‡ä¸€æ ·è¿›è¡Œåˆ†æ<br><img  src="https://github.com/so1n/so1n_blog_photo/blob/master/blog_photo/%E8%AF%84%E8%AE%BA.png?raw=true"  ><span class="image-caption">enter description here</span><br>å°±èƒ½ä»é‡Œé¢æå–ç²¾å½©è¯„è®ºäº†ï¼Œç„¶è€Œï¼Œåªæœ‰8æ¡- -<br>ç„¶åæˆ‘å°±é‡æ–°å¼„äº†ä¸€ä¸‹ï¼Œé‚£é‡Œä¸æ˜¯æœ‰ä¸ªæ›´å¤šè¯„è®ºå—ï¼Œç‚¹å‡»åå°±èƒ½çœ‹åˆ°å¾ˆå¤šçƒ­é—¨è¯„è®ºäº†ï¼Œç¼ºç‚¹æ˜¯çœ‹ä¸åˆ°å›¾ç‰‡ã€‚ä¸è¿‡è¿˜å¥½æˆ‘ä¸»è¦æ‰å–çš„æ˜¯è¯„è®º- -ï¼Œç„¶åå°±å‘ç°è¦ä¸‹æ‹‰æ‰èƒ½æ›´æ–°è¯„è®ºï¼Œéš¾å—: (<br>ç„¶è€Œæˆ‘æ‰¾ä¸åˆ°ç¬¬ä¸€é¡µï¼Œå´æ‰¾åˆ°äº†ç¬¬äºŒé¡µ- -<br><img  src="https://github.com/so1n/so1n_blog_photo/blob/master/blog_photo/%E7%83%AD%E9%97%A8%E8%AF%84%E8%AE%BA1.png?raw=true"  ><span class="image-caption">enter description here</span><br>æŸ¥çœ‹JSONæ–‡ä»¶åï¼Œå¯ä»¥å‘ç°çƒ­é—¨è¯„è®ºæ›´æ”¹pageå°±å¯ä»¥äº†1é¡µæœ‰9ä¸ªè¯„è®º<br>ç„¶åæ›´æ”¹é‡Œé¢çš„é“¾æ¥å°±å·®ä¸å¤šå¯ä»¥äº†ï¼Œè¿˜æœ‰hot_dataæ”¹ä¸ºcard_group</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs python">  <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">getComments</span>(<span class="hljs-params">self,<span class="hljs-built_in">id</span>,page</span>):</span><span class="hljs-comment"># idï¼ˆå­—ç¬¦ä¸²ç±»å‹ï¼‰ï¼šæŸæ¡å¾®åšçš„idï¼Œpageï¼ˆæ•´å‹ï¼‰ï¼šè¯„è®ºç¿»é¡µå‚æ•°</span><br>      <span class="hljs-comment">#url=&#x27;https://m.weibo.cn/api/comments/show?id=&#x27;+id+&#x27;&amp;page=&#x27;+str(page)</span><br>url = <span class="hljs-string">&#x27;https://m.weibo.cn/single/rcList?format=cards&amp;id=&#x27;</span>+<span class="hljs-built_in">id</span>+<span class="hljs-string">&#x27;&amp;type=comment&amp;hot=1&amp;page=&#x27;</span>+<span class="hljs-built_in">str</span>(page)<br>      response=requests.get(url)<br>      ob_json=json.loads(response.text)<br><br>      list_comments=ob_json[<span class="hljs-string">&#x27;card_group&#x27;</span>]<br>      <span class="hljs-keyword">return</span> list_comments<br></code></pre></td></tr></table></figure>
<h3 id="3-çˆ¬å–å¾®åšå†…å®¹"><a href="#3-çˆ¬å–å¾®åšå†…å®¹" class="headerlink" title="3.çˆ¬å–å¾®åšå†…å®¹"></a>3.çˆ¬å–å¾®åšå†…å®¹</h3><p>åŸæ¥æˆ‘å†™çš„æœ‰ç‚¹ä¹±ï¼Œä¸å¥½çš„ä»£ç è¿˜æ˜¯æ‰”åœ¨ç”µè„‘é‡Œé¢å¥½äº†ã€‚ç°åœ¨çˆ¬å–å¾®åšå†…å®¹ç›´æ¥å¯¹ä»¥ä¸Šè·å–åˆ°çš„list_cardsè§£æå°±è¡Œäº†ï¼Œä¸è¿‡å›¾ç‰‡æœ‰3ç§å½¢å¼ï¼Œåˆ†åˆ«æ˜¯ç¼©ç•¥å›¾ï¼Œå‹ç¼©å›¾ï¼ŒåŸå›¾</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs css">&quot;<span class="hljs-selector-tag">thumbnail_pic</span>&quot;<span class="hljs-selector-pseudo">:&quot;http</span>://<span class="hljs-selector-tag">wx1</span><span class="hljs-selector-class">.sinaimg</span><span class="hljs-selector-class">.cn</span>/<span class="hljs-selector-tag">thumbnail</span>/6628711<span class="hljs-selector-tag">bgy1fca7isjl7nj215o15o167</span><span class="hljs-selector-class">.jpg</span>&quot;,<br> &quot;<span class="hljs-selector-tag">bmiddle_pic</span>&quot;<span class="hljs-selector-pseudo">:&quot;http</span>://<span class="hljs-selector-tag">wx1</span><span class="hljs-selector-class">.sinaimg</span><span class="hljs-selector-class">.cn</span>/<span class="hljs-selector-tag">bmiddle</span>/6628711<span class="hljs-selector-tag">bgy1fca7isjl7nj215o15o167</span><span class="hljs-selector-class">.jpg</span>&quot;,<br> &quot;<span class="hljs-selector-tag">original_pic</span>&quot;<span class="hljs-selector-pseudo">:&quot;http</span>://<span class="hljs-selector-tag">wx1</span><span class="hljs-selector-class">.sinaimg</span><span class="hljs-selector-class">.cn</span>/<span class="hljs-selector-tag">large</span>/6628711<span class="hljs-selector-tag">bgy1fca7isjl7nj215o15o167</span><span class="hljs-selector-class">.jpg</span>&quot;,<br></code></pre></td></tr></table></figure>
<h3 id="4-çˆ¬å–ç”¨æˆ·ä¿¡æ¯"><a href="#4-çˆ¬å–ç”¨æˆ·ä¿¡æ¯" class="headerlink" title="4.çˆ¬å–ç”¨æˆ·ä¿¡æ¯"></a>4.çˆ¬å–ç”¨æˆ·ä¿¡æ¯</h3><p>è¿™ä¸ªæ —å­åŒæ ·ä¹Ÿæ˜¯ä½¿ç”¨ç§»åŠ¨ç‰ˆå¾®åšæ¥è·å–èµ„æ–™ï¼ˆæˆ‘è¿™é‡Œæ˜¯ä»æˆ‘å…³æ³¨åˆ—è¡¨é‡Œé¢è·å–çš„ï¼‰<br>ç„¶åå†å»æŸ¥çœ‹å…³æ³¨åˆ—è¡¨çš„ä¿¡æ¯ã€‚å› ä¸ºæ˜¯ç”¨ä¸‹æ‹‰è·å–ä¿¡æ¯çš„ï¼Œæ‰€ä»¥å¤šæ¬¡ä¸‹æ‹‰åå¯ä»¥å‘ç°æ”¹å˜page = çš„æ•°å€¼å°±å¯ä»¥è·å–åˆ°æ–°çš„åˆ—è¡¨<br><img  src="https://github.com/so1n/so1n_blog_photo/blob/master/blog_photo/%E5%85%B3%E6%B3%A8%E5%88%97%E8%A1%A8.png?raw=true"  ><span class="image-caption">enter description here</span><br>å¯ä»¥çœ‹åˆ°åˆ—è¡¨é‡Œé¢æœ‰ä¸ªé“¾æ¥ï¼š<a target="_blank" rel="noopener" href="https://m.weibo.cn/api/container/getSecond?containerid=1005051896662273_-_FOLLOWERS&amp;page=2">https://m.weibo.cn/api/container/getSecond?containerid=1005051896662273_-_FOLLOWERS&amp;page=2</a>  è¿™ä¸ªcontaineridè¿™ä¸ªä¸çŸ¥é“æ˜¯ä»€ä¹ˆï¼Œä¹‹å‰ä¹Ÿæ²¡çœ‹è¿‡ã€‚æ‰€ä»¥é‡æ–°è·‘å›ä¸»é¡µæŸ¥çœ‹<br><img  src="https://github.com/so1n/so1n_blog_photo/blob/master/blog_photo/%E7%9C%9Fid%E8%8E%B7%E5%8F%96.png?raw=true"  ><span class="image-caption">enter description here</span><br>å¯ä»¥å‘ç°ï¼Œå†è¿™ä¸ªé¡µé¢å·²ç»å‡ºç°è¿™ä¸ªcontaineridäº†<br>åˆ°è¿™ä¸ªé¡µé¢è·å–å°±å¥½äº†ï¼Œç„¶è€Œæˆ‘ç›´æ¥å¡«å†™= =ã€‚ã€‚<br>æ¥ç€è·å–åˆ°jsonåå°±åƒä¸Šé¢ä¸€æ ·å¼€å§‹åˆ†æï¼Œä¸‹é¢æ˜¯ä¸€ä¸ªåˆ†æçš„è®°è¿‡æ —å­</p>
<figure class="highlight sqf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs sqf"><span class="hljs-string">&quot;card_type&quot;</span>:<span class="hljs-number">10</span>,<br><span class="hljs-string">&quot;user&quot;</span>:&#123;<br>    <span class="hljs-string">&quot;id&quot;</span>:<span class="hljs-number">5909185172</span>,<br>    <span class="hljs-string">&quot;screen_name&quot;</span>:<span class="hljs-string">&quot;æ‹œæ‰˜å•¦å­¦å¦¹&quot;</span>,<br>    <span class="hljs-string">&quot;profile_image_url&quot;</span>:<span class="hljs-string">&quot;https://tva1.sinaimg.cn/crop.0.0.976.976.180/006rUl0gjw8f4uuscl9p5j30r40r410i.jpg&quot;</span>,<br>    <span class="hljs-string">&quot;profile_url&quot;</span>:<span class="hljs-string">&quot;https://m.weibo.cn/u/5909185172?uid=5909185172&amp;luicode=10000012&amp;lfid=1005051896662273_-_FOLLOWERS&amp;featurecode=20000320&quot;</span>,<br>    <span class="hljs-string">&quot;statuses_count&quot;</span>:<span class="hljs-number">390</span>,<br>    <span class="hljs-string">&quot;verified&quot;</span>:<span class="hljs-literal">true</span>,         æœ‰æ²¡æœ‰è®¤è¯<br>    <span class="hljs-string">&quot;verified_type&quot;</span>:<span class="hljs-number">0</span>,       -<span class="hljs-number">1</span> ä¸ºæ²¡è®¤è¯ã€‚<span class="hljs-number">0</span>ä¸ºä¸ªäººè®¤è¯ï¼Œå…¶ä½™ä¸ºä¼ä¸šè®¤è¯<br>    <span class="hljs-string">&quot;verified_type_ext&quot;</span>:<span class="hljs-number">1</span>,     <span class="hljs-variable">_ext</span>ä¸º<span class="hljs-number">1</span>æ—¶(æ©™è‰²V)ï¼Œ <span class="hljs-variable">_ext</span>ä¸º<span class="hljs-number">0</span>ï¼ˆé»„è‰²vï¼‰<span class="hljs-variable">_ext</span>   <br>    <span class="hljs-string">&quot;verified_reason&quot;</span>:<span class="hljs-string">&quot;å¾®åšçŸ¥åæç¬‘è§†é¢‘åšä¸» æ•™è‚²è§†é¢‘è‡ªåª’ä½“ å¾®åšç­¾çº¦è‡ªåª’ä½“&quot;</span>,       è®¤è¯è¯´æ˜<br>    <span class="hljs-string">&quot;description&quot;</span>:<span class="hljs-string">&quot;ä¸€ä¸ªåªå±äºå¤§å­¦ç”Ÿçš„è¡—è®¿&quot;</span>,                             ç®€ä»‹<br>    <span class="hljs-string">&quot;gender&quot;</span>:<span class="hljs-string">&quot;f&quot;</span>,                           æ€§åˆ«ï¼šfä¸ºå¥³mä¸ºç”·<br>    <span class="hljs-string">&quot;mbtype&quot;</span>:<span class="hljs-number">12</span>,                        <span class="hljs-number">12</span>éƒ½æ˜¯ä¸ªäººè´¦æˆ·ï¼Œ<span class="hljs-number">0</span>ä¹Ÿæ˜¯ã€‚<span class="hljs-number">2</span>æœ‰ä¸ªäººè´¦æˆ·ä¹Ÿæœ‰ä¼ä¸šè´¦æˆ·ï¼Œ<span class="hljs-number">11</span>ä¹Ÿæ˜¯ä¼ä¸šè´¦æˆ·<br>    <span class="hljs-string">&quot;urank&quot;</span>:<span class="hljs-number">27</span>,                           ç­‰çº§<br>    <span class="hljs-string">&quot;mbrank&quot;</span>:<span class="hljs-number">5</span>,                          ä¼šå‘˜ç­‰çº§<br>    <span class="hljs-string">&quot;follow_me&quot;</span>:<span class="hljs-literal">false</span>,                    æ˜¯å¦å…³æ³¨æˆ‘<br>    <span class="hljs-string">&quot;following&quot;</span>:<span class="hljs-literal">true</span>,                   æˆ‘æ˜¯å¦å…³æ³¨ä»–<br>    <span class="hljs-string">&quot;followers_count&quot;</span>:<span class="hljs-number">5445128</span>,            ç²‰ä¸æ•°é‡<br>    <span class="hljs-string">&quot;follow_count&quot;</span>:<span class="hljs-number">69</span>,                   å…³æ³¨é‡<br>    <span class="hljs-string">&quot;cover_image_phone&quot;</span>:<span class="hljs-string">&quot;https://tva1.sinaimg.cn/crop.0.0.640.640.640/549d0121tw1egm1kjly3jj20hs0hsq4f.jpg&quot;</span>,<br>    <span class="hljs-string">&quot;desc1&quot;</span>:null,           <br>    <span class="hljs-string">&quot;desc2&quot;</span>:null<br>&#125;,<br></code></pre></td></tr></table></figure>
<p>ç„¶åå°±å¯ä»¥è·å–äº†ï¼Œç»“æœå¦‚ä¸‹ï¼š</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-attr">id:</span> <span class="hljs-number">5364707424</span> <span class="hljs-string">å§“å:</span> <span class="hljs-string">Justæ˜¥è‹‘</span> <span class="hljs-string">ç®€ä»‹:</span> <span class="hljs-string">ğŸ®</span> <span class="hljs-string">ç­‰çº§:</span> <span class="hljs-number">9</span> <span class="hljs-string">æ€§åˆ«:</span> <span class="hljs-string">m</span> <span class="hljs-string">æ˜¯å¦å…³æ³¨æˆ‘:</span> <span class="hljs-literal">True</span><br><span class="hljs-attr">id:</span> <span class="hljs-number">5406572240</span> <span class="hljs-string">å§“å:</span> <span class="hljs-string">é­…è“æ‰‹æœº</span> <span class="hljs-string">ç®€ä»‹:</span>  <span class="hljs-string">ç­‰çº§:</span> <span class="hljs-number">17</span> <span class="hljs-string">æ€§åˆ«:</span> <span class="hljs-string">m</span> <span class="hljs-string">æ˜¯å¦å…³æ³¨æˆ‘:</span> <span class="hljs-literal">False</span><br><span class="hljs-attr">id:</span> <span class="hljs-number">3230122083</span> <span class="hljs-string">å§“å:</span> <span class="hljs-string">Flyme</span> <span class="hljs-string">ç®€ä»‹:</span> <span class="hljs-string">Flymeæ˜¯é­…æ—åŸºäºAndroidå†…æ ¸ä¸ºæ——ä¸‹æ™ºèƒ½æ‰‹æœºé‡èº«æ‰“é€ çš„æ“ä½œç³»ç»Ÿï¼Œæ—¨åœ¨ä¸ºç”¨æˆ·æä¾›ä¼˜ç§€çš„äº¤äº’ä½“éªŒå’Œè´´å¿ƒçš„åœ¨çº¿æœåŠ¡ã€‚æºè‡ªå†…å¿ƒçš„è®¾è®¡ï¼Œåšæœ€æœ¬è´¨çš„æ€è€ƒï¼ŒFlymeå®šä¼šè®©ä½ åˆ®ç›®ç›¸çœ‹ï¼</span> <span class="hljs-string">ç­‰çº§:</span> <span class="hljs-number">35</span> <span class="hljs-string">æ€§åˆ«:</span> <span class="hljs-string">m</span> <span class="hljs-string">æ˜¯å¦å…³æ³¨æˆ‘:</span> <span class="hljs-literal">False</span><br><span class="hljs-attr">id:</span> <span class="hljs-number">5608433557</span> <span class="hljs-string">å§“å:</span> <span class="hljs-string">å¾®åšé›·è¾¾</span> <span class="hljs-string">ç®€ä»‹:</span>  <span class="hljs-string">ç­‰çº§:</span> <span class="hljs-number">5</span> <span class="hljs-string">æ€§åˆ«:</span> <span class="hljs-string">f</span> <span class="hljs-string">æ˜¯å¦å…³æ³¨æˆ‘:</span> <span class="hljs-literal">False</span><br><span class="hljs-attr">id:</span> <span class="hljs-number">1861358972</span> <span class="hljs-string">å§“å:</span> <span class="hljs-string">æ°”åŠ¿å¦‚è™¹Leslie</span> <span class="hljs-string">ç®€ä»‹:</span> <span class="hljs-string">å»è®¤è¯†æ›´å¹¿é˜”çš„ä¸–ç•Œ</span> <span class="hljs-string">ç­‰çº§:</span> <span class="hljs-number">16</span> <span class="hljs-string">æ€§åˆ«:</span> <span class="hljs-string">m</span> <span class="hljs-string">æ˜¯å¦å…³æ³¨æˆ‘:</span> <span class="hljs-literal">True</span><br><span class="hljs-attr">id:</span> <span class="hljs-number">1992613670</span> <span class="hljs-string">å§“å:</span> <span class="hljs-string">å‡¤å‡°æ–°é—»å®¢æˆ·ç«¯</span> <span class="hljs-string">ç®€ä»‹:</span>  <span class="hljs-string">ç­‰çº§:</span> <span class="hljs-number">37</span> <span class="hljs-string">æ€§åˆ«:</span> <span class="hljs-string">m</span> <span class="hljs-string">æ˜¯å¦å…³æ³¨æˆ‘:</span> <span class="hljs-literal">False</span><br><span class="hljs-attr">id:</span> <span class="hljs-number">2629306884</span> <span class="hljs-string">å§“å:</span> <span class="hljs-string">CSDNäº§å“å®¢æœ</span> <span class="hljs-string">ç®€ä»‹:</span> <span class="hljs-string">è¿˜åœ¨ä¸ºä½ çš„ä¸‹è½½ç§¯åˆ†å¤ªå°‘å‘æ„å—ï¼Ÿå¿«æ¥å‚åŠ CSDNåšä»»åŠ¡ï¼Œæ‹¿ç§¯åˆ†æ´»åŠ¨~~æ”’ä¸‹è½½ç§¯åˆ†å•¦~~http://task.csdn.net/rule.aspx</span> <span class="hljs-string">ç­‰çº§:</span> <span class="hljs-number">21</span> <span class="hljs-string">æ€§åˆ«:</span> <span class="hljs-string">f</span> <span class="hljs-string">æ˜¯å¦å…³æ³¨æˆ‘:</span> <span class="hljs-literal">False</span><br><span class="hljs-attr">id:</span> <span class="hljs-number">2251036402</span> <span class="hljs-string">å§“å:</span> <span class="hljs-string">Colomboä¸¶Fd</span> <span class="hljs-string">ç®€ä»‹:</span>  <span class="hljs-string">ç­‰çº§:</span> <span class="hljs-number">14</span> <span class="hljs-string">æ€§åˆ«:</span> <span class="hljs-string">m</span> <span class="hljs-string">æ˜¯å¦å…³æ³¨æˆ‘:</span> <span class="hljs-literal">True</span><br><span class="hljs-attr">id:</span> <span class="hljs-number">1720064601</span> <span class="hljs-string">å§“å:</span> <span class="hljs-string">RNF_ç‰§ç‰§å­</span> <span class="hljs-string">ç®€ä»‹:</span> <span class="hljs-string">|åé™¢43024|è½®å3.0|è„±äº†ä¸€åŠçš„ä¼ªå®…|ä¸–ä¸Šç¨€æœ‰çš„è…ç”·|ç»å¯¹é¢†åŸŸä¸‡å²|æˆ‘ç»ˆäºè¿‡äº†CCIE|å…¨(éƒ¨)çƒ(ç±»)é€š</span> <span class="hljs-string">ç­‰çº§:</span> <span class="hljs-number">31</span> <span class="hljs-string">æ€§åˆ«:</span> <span class="hljs-string">m</span> <span class="hljs-string">æ˜¯å¦å…³æ³¨æˆ‘:</span> <span class="hljs-literal">True</span><br><span class="hljs-attr">id:</span> <span class="hljs-number">2472362284</span> <span class="hljs-string">å§“å:</span> <span class="hljs-string">RNF_æŸæ¸…</span> <span class="hljs-string">ç®€ä»‹:</span> <span class="hljs-string">å¾®ä¸è¶³é“ã€‚</span> <span class="hljs-string">ç­‰çº§:</span> <span class="hljs-number">22</span> <span class="hljs-string">æ€§åˆ«:</span> <span class="hljs-string">m</span> <span class="hljs-string">æ˜¯å¦å…³æ³¨æˆ‘:</span> <span class="hljs-literal">True</span><br></code></pre></td></tr></table></figure>

<p>è¿™éƒ¨åˆ†å†…å®¹çš„ä»£ç ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> re<br><span class="hljs-keyword">import</span> requests<br><span class="hljs-keyword">import</span> json<br><span class="hljs-keyword">from</span> lxml <span class="hljs-keyword">import</span> etree<br><br><br>cookie = &#123;<span class="hljs-string">&quot;Cookie&quot;</span>: <span class="hljs-string">&quot;ä½ çš„cookie&quot;</span>&#125;<br>url = <span class="hljs-string">&#x27;https://m.weibo.cn/api/container/getSecond?containerid=1005051896662273_-_FOLLOWERS&amp;page=7&#x27;</span><br>html = requests.get(url, cookies=cookie)<br>ob_json=json.loads(html.text)<br>list_cards=ob_json[<span class="hljs-string">&#x27;cards&#x27;</span>]<br><span class="hljs-keyword">for</span> card <span class="hljs-keyword">in</span> list_cards:<br>    <span class="hljs-keyword">if</span> card[<span class="hljs-string">&#x27;card_type&#x27;</span>] == <span class="hljs-number">10</span>:<br>        <span class="hljs-built_in">id</span> = card[<span class="hljs-string">&#x27;user&#x27;</span>][<span class="hljs-string">&#x27;id&#x27;</span>]<br>        name = card[<span class="hljs-string">&#x27;user&#x27;</span>][<span class="hljs-string">&#x27;screen_name&#x27;</span>]<br>        description = card[<span class="hljs-string">&#x27;user&#x27;</span>][<span class="hljs-string">&#x27;description&#x27;</span>]<br>        urank = card[<span class="hljs-string">&#x27;user&#x27;</span>][<span class="hljs-string">&#x27;urank&#x27;</span>]<br>        gender = card[<span class="hljs-string">&#x27;user&#x27;</span>][<span class="hljs-string">&#x27;gender&#x27;</span>]<br>        follow_me = card[<span class="hljs-string">&#x27;user&#x27;</span>][<span class="hljs-string">&#x27;follow_me&#x27;</span>]<br>        <span class="hljs-keyword">if</span> gender == <span class="hljs-string">&#x27;m&#x27;</span>:<br>            gender ==<span class="hljs-string">&#x27;ç”·&#x27;</span><br>        <span class="hljs-keyword">if</span> gender == <span class="hljs-string">&#x27;f&#x27;</span>:<br>            gender ==<span class="hljs-string">&#x27;å¥³&#x27;</span><br>        <span class="hljs-keyword">else</span>:<br>            gender == <span class="hljs-string">&#x27;å…¶ä»–&#x27;</span><br>        <span class="hljs-keyword">if</span> follow_me:<br>            follow_me == <span class="hljs-string">&#x27;æ˜¯&#x27;</span><br>        <span class="hljs-keyword">else</span>:<br>            follow_me == <span class="hljs-string">&#x27;å¦&#x27;</span><br>        print(<span class="hljs-string">&#x27;id:&#x27;</span>, <span class="hljs-built_in">id</span>, <span class="hljs-string">&#x27;å§“å:&#x27;</span>, name ,<span class="hljs-string">&#x27;ç®€ä»‹:&#x27;</span>, description ,<span class="hljs-string">&#x27;ç­‰çº§:&#x27;</span>, urank, <span class="hljs-string">&#x27;æ€§åˆ«:&#x27;</span>, gender ,<span class="hljs-string">&#x27;æ˜¯å¦å…³æ³¨æˆ‘:&#x27;</span>, follow_me)<br><br><br><br><br><br><br></code></pre></td></tr></table></figure>
      </section>
      <section class="extra">
        
          <ul class="copyright">
  
    <li><strong>æœ¬æ–‡ä½œè€…ï¼š</strong>So1n</li>
    <li><strong>æœ¬æ–‡é“¾æ¥ï¼š</strong><a href="http://so1n.me/2017/08/12/9_spider_by_weibo/index.html" title="http:&#x2F;&#x2F;so1n.me&#x2F;2017&#x2F;08&#x2F;12&#x2F;9_spider_by_weibo&#x2F;index.html">http:&#x2F;&#x2F;so1n.me&#x2F;2017&#x2F;08&#x2F;12&#x2F;9_spider_by_weibo&#x2F;index.html</a></li>
    <li><strong>ç‰ˆæƒå£°æ˜ï¼š</strong>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« å‡é‡‡ç”¨ <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" title="BY-NC-SA" target="_blank" rel="noopener">BY-NC-SA</a> è®¸å¯åè®®ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</li>
  
</ul>
        
        
          <section class="donate">
  <div id="qrcode-donate">
    <img src="https://github.com/so1n/so1n_blog_photo/blob/master/blog_photo/4d2ebf32586d8799ee2e75333d6f5d2.jpg?raw=true">
  </div>
  <div class="icon">
    <a href="javascript:;" id="alipay"><i class="iconfont iconalipay"></i></a>
    <a href="javascript:;" id="wechat"><i class="iconfont iconwechat-fill"></i></a>
  </div>
</section>
        
        
  <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Python/" rel="tag">Python</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%88%AC%E8%99%AB/" rel="tag">çˆ¬è™«</a></li></ul> 

        
  <nav class="nav">
    <a href="/2017/08/17/10-Django-learn/"><i class="iconfont iconleft"></i>Djangoå…¥é—¨çš„ç¬”è®°</a>
    <a href="/2017/08/10/8_12306_spider/">åˆ¶ä½œä¸€ä¸ªç«è½¦ç¥¨æŸ¥è¯¢ä½™ç¥¨çš„çˆ¬è™«<i class="iconfont iconright"></i></a>
  </nav>

      </section>
      
        <section class="comments">
  
    <div class="btn" id="comments-btn">æŸ¥çœ‹è¯„è®º</div>
  
  
<link rel="stylesheet" href="https://unpkg.com/gitalk/dist/gitalk.css">
<div id="gitalk" class="gitalk"></div>
<script defer src="https://unpkg.com/gitalk/dist/gitalk.min.js"></script>
<script>
  window.onload = function () {
    var gitalk = new Gitalk({
      clientID: '59f804e526b05c378470',
      clientSecret: '36679ff697cec424936a0f7c4bcd6d2988dac28e',
      id: window.location.pathname,
      repo: 'so1n.github.io',
      owner: 'so1n',
      admin: 'so1n'
    });
    if ( true ) {
      $("#comments-btn").on("click", function () {
        $(this).hide();
        gitalk.render('gitalk');
      });
    } else {
      gitalk.render('gitalk');
    }
  }
</script>

</section>
      
    </section>
  </div>
</article>
</div>
      <div class="col-xl-3">
          
  <aside class="toc-wrap">
    <h3 class="toc-title">æ–‡ç« ç›®å½•ï¼š</h3>
    <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BE%AE%E5%8D%9A%E7%88%AC%E8%99%AB-%E5%8F%91%E5%B8%83%E5%BE%AE%E5%8D%9A%E4%BB%A5%E5%8F%8A%E8%8E%B7%E5%8F%96%E5%BE%AE%E5%8D%9A%E8%B5%84%E6%96%99"><span class="toc-text">å¾®åšçˆ¬è™«-å‘å¸ƒå¾®åšä»¥åŠè·å–å¾®åšèµ„æ–™</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E5%8F%91%E5%B8%83%E5%BE%AE%E5%8D%9A"><span class="toc-text">1.å‘å¸ƒå¾®åš</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E7%88%AC%E5%8F%96%E8%AF%84%E8%AE%BA"><span class="toc-text">2.çˆ¬å–è¯„è®º</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E7%88%AC%E5%8F%96%E5%BE%AE%E5%8D%9A%E5%86%85%E5%AE%B9"><span class="toc-text">3.çˆ¬å–å¾®åšå†…å®¹</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-%E7%88%AC%E5%8F%96%E7%94%A8%E6%88%B7%E4%BF%A1%E6%81%AF"><span class="toc-text">4.çˆ¬å–ç”¨æˆ·ä¿¡æ¯</span></a></li></ol></li></ol>
  </aside>

        
          
  <aside class="toc-wrap">
    <h3 class="toc-title">æ–‡ç« ç›®å½•ï¼š</h3>
    <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BE%AE%E5%8D%9A%E7%88%AC%E8%99%AB-%E5%8F%91%E5%B8%83%E5%BE%AE%E5%8D%9A%E4%BB%A5%E5%8F%8A%E8%8E%B7%E5%8F%96%E5%BE%AE%E5%8D%9A%E8%B5%84%E6%96%99"><span class="toc-text">å¾®åšçˆ¬è™«-å‘å¸ƒå¾®åšä»¥åŠè·å–å¾®åšèµ„æ–™</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E5%8F%91%E5%B8%83%E5%BE%AE%E5%8D%9A"><span class="toc-text">1.å‘å¸ƒå¾®åš</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E7%88%AC%E5%8F%96%E8%AF%84%E8%AE%BA"><span class="toc-text">2.çˆ¬å–è¯„è®º</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E7%88%AC%E5%8F%96%E5%BE%AE%E5%8D%9A%E5%86%85%E5%AE%B9"><span class="toc-text">3.çˆ¬å–å¾®åšå†…å®¹</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-%E7%88%AC%E5%8F%96%E7%94%A8%E6%88%B7%E4%BF%A1%E6%81%AF"><span class="toc-text">4.çˆ¬å–ç”¨æˆ·ä¿¡æ¯</span></a></li></ol></li></ol>
  </aside>

        
      </div>
    </div>
  </div>
</main>

  <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js">
</script>


<footer class="footer">
  <div class="footer-social"><a 
        href="https://github.com/so1n "
        target="_blank"
        class="footer-social-item"
        onMouseOver="this.style.color= '#9f7be1'" 
        onMouseOut="this.style.color='#33333D'">
          <i class="iconfont  icongithub-fill "></i>
      </a></div>
  
    <div class="footer-copyright"><p>Powered by <a target="_blank" href="https://hexo.io">Hexo</a>  |  Theme - <a target="_blank" href="https://github.com/izhaoo/hexo-theme-zhaoo">zhaoo</a></p></div>
  
  <div class="footer-copyright">
    æ€»è®¿é—®é‡<span id="busuanzi_value_site_pv"></span>æ¬¡
    è®¿å®¢æ•°<span id="busuanzi_value_site_uv"></span>äººæ¬¡
  </div>

</footer>

  
      <div class="fab fab-plus">
    <i class="iconfont iconplus"></i>
  </div>
  
  
  <div class="fab fab-up">
    <i class="iconfont iconcaret-up"></i>
  </div>
  
  
    <div class="scrollbar j-scrollbar">
  <div class="scrollbar-current j-scrollbar-current"></div>
</div>
  
  
    
<script src="/js/color-mode.js"></script>

  
  
    <div class="search">
  <div class="search-container">
    <div class="search-close">
      <i class="iconfont iconbaseline-close-px"></i>
    </div>
    <div class="search-input-wrapper">
      <i class="search-input-icon iconfont iconsearch"></i>
      <input class="search-input" type="search" id="search-input" placeholder="Search..." autofocus autocomplete="off"
        autocorrect="off" autocapitalize="off">
    </div>
    <div class="search-output" id="search-output"></div>
  </div>
</div>
  
</body>

<script src="https://cdn.bootcss.com/jquery/3.4.1/jquery.min.js"></script>



  
<script src="https://cdn.bootcdn.net/ajax/libs/jquery.lazyload/1.9.1/jquery.lazyload.min.js"></script>




  
<script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.js"></script>






  
<script src="https://cdn.bootcdn.net/ajax/libs/jquery.qrcode/1.0/jquery.qrcode.min.js"></script>




<script src="/js/utils.js"></script>
<script src="/js/script.js"></script>







  <script>
    (function () {
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
      } else {
        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
    })();
  </script>













</html>